<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Cheatsheet: Introduction to R &middot; Code As Manuscript
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-0d">

    <div class="sidebar">
  <div class="container"> <!--sidebar-sticky? I deleted it from here-->
    <div class="sidebar-about">
      <h2>
        <a href="">
          Code As Manuscript
        </a>
      </h2>
      <p class="lead">Writing your code and analyses as if <i>it</i> was the manuscript.</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Home</a>

      

      
      
        
          
        
      
        
          
        
      
        
          
            
              <a class="sidebar-nav-item" href="/">About</a>
            
          
        
      
        
          
            
              <a class="sidebar-nav-item" href="/gps/">GPS</a>
            
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
            
              <a class="sidebar-nav-item" href="/lessons/">Lessons</a>
            
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      

      <a class="sidebar-nav-item" href="https://github.com/codeasmanuscript">GitHub</a>
    </nav>

    <p>&copy; 2015. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="page">
  <h1 class="page-title">Cheatsheet: Introduction to R</h1>
  <p>Brief description/intro</p>

<h1 id="language-commands-some-useful-or-common-ones">(language) commands: Some useful or common ones</h1>

<h2 id="command"><code>command</code></h2>

<blockquote>
  <p>Description</p>
</blockquote>

<blockquote>
  <p>Example code:</p>
</blockquote>

<pre><code>example code (note the tab/4 spaces indent)
</code></pre>

<h2 id="command-1"><code>command</code></h2>

<blockquote>
  <p>Description</p>
</blockquote>

<blockquote>
  <p>Example code:</p>
</blockquote>

<pre><code>example code (note the tab/4 spaces indent)
</code></pre>

<p>R is an object-oriented programing language, meaning everything we encounter in R is an object. </p>

<p>R has several types of objects:</p>

<p>R has a 5 basic classes of objects:</p>

<ul>
  <li>Character</li>
  <li>Numeric</li>
  <li>Integer</li>
  <li>Complex</li>
  <li>Logical</li>
</ul>

<p>R has 5 different types of objects:</p>

<ul>
  <li>Vectors</li>
  <li>Lists</li>
  <li>Matrices</li>
  <li>Factors</li>
  <li>Dataframes</li>
</ul>

<p>Thus you could have a logical vector, a character dataframe, a numeric matrix, etc. </p>

<h1 id="vectors">Vectors</h1>

<p>The most basic object is a vector. A vector is a sequence of objects of the same class. We can make vectors using the <code>c()</code> function.</p>

<div class="highlight"><pre><code class="language-r" data-lang="r">a <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="m">0.4</span><span class="p">,</span> <span class="m">1.2</span><span class="p">)</span>         <span class="c1"># numeric</span>
b <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="kc">TRUE</span><span class="p">,</span> <span class="kc">FALSE</span><span class="p">)</span>      <span class="c1"># logical</span>
<span class="kt">c</span> <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">,</span><span class="s">&quot;b&quot;</span><span class="p">,</span><span class="s">&quot;c&quot;</span><span class="p">)</span>      <span class="c1"># character</span>
d <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="m">1L</span><span class="p">,</span> <span class="m">2L</span><span class="p">)</span>           <span class="c1"># integer</span>
e <span class="o">&lt;-</span> <span class="m">1</span><span class="o">:</span><span class="m">10</span>                <span class="c1"># integer</span>
f <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="m">1+0i</span><span class="p">,</span> <span class="m">2+4i</span><span class="p">)</span>       <span class="c1"># complex</span></code></pre></div>

<p>Empty vectors can be made using the <code>vector()</code> function</p>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="p">(</span>x <span class="o">&lt;-</span> <span class="kt">vector</span><span class="p">(</span><span class="s">&quot;numeric&quot;</span><span class="p">,</span> length<span class="o">=</span><span class="m">10</span><span class="p">))</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">##  [1] 0 0 0 0 0 0 0 0 0 0</code></pre></div>

<h1 id="lists">Lists</h1>

<p>A list is a special type of vector that can contain objects of different classes. For instance, we can have a list with a numeric dataframe as one object within the list, and a string vector as another. </p>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="p">(</span>x <span class="o">&lt;-</span> <span class="kt">list</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">,</span> <span class="m">1+4i</span><span class="p">))</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">## [[1]]
## [1] 1
## 
## [[2]]
## [1] &quot;a&quot;
## 
## [[3]]
## [1] TRUE
## 
## [[4]]
## [1] 1+4i</code></pre></div>

<p>The elements of a list are seperated by double brackets. </p>

<h1 id="matrices">Matrices</h1>

<p>Matrices are vectors with a dimension attribute. The dim attribute is an integer vector of length = 2 (nrow, ncol). Matrix multiplication is done with the %*% operator</p>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="p">(</span>x <span class="o">&lt;-</span> <span class="kt">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">6</span><span class="p">,</span> nrow<span class="o">=</span><span class="m">2</span><span class="p">,</span> ncol<span class="o">=</span><span class="m">3</span><span class="p">))</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">##      [,1] [,2] [,3]
## [1,]    1    3    5
## [2,]    2    4    6</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="kp">dim</span><span class="p">(</span>x<span class="p">)</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">## [1] 2 3</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="kp">attributes</span><span class="p">(</span>x<span class="p">)</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">## $dim
## [1] 2 3</code></pre></div>

<p>Matrices are constructed column-wise, so entries start at the upper left corner and run down the columns. </p>

<p>Matrices can be created directly from vectors by adding a dimension value</p>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="p">(</span>x <span class="o">&lt;-</span> <span class="m">1</span><span class="o">:</span><span class="m">10</span><span class="p">)</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="p">(</span><span class="kp">dim</span><span class="p">(</span>x<span class="p">)</span> <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">5</span><span class="p">))</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">## [1] 2 5</code></pre></div>

<p>We can also create matrices by column-binding or row-binding with the functions <code>cbind()</code> and <code>rbind()</code></p>

<div class="highlight"><pre><code class="language-r" data-lang="r">x <span class="o">&lt;-</span> <span class="m">1</span><span class="o">:</span><span class="m">3</span>
y <span class="o">&lt;-</span> <span class="m">10</span><span class="o">:</span><span class="m">12</span>
<span class="kp">cbind</span><span class="p">(</span>x<span class="p">,</span>y<span class="p">)</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">##      x  y
## [1,] 1 10
## [2,] 2 11
## [3,] 3 12</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r">rbind <span class="p">(</span>x<span class="p">,</span> y<span class="p">)</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">##   [,1] [,2] [,3]
## x    1    2    3
## y   10   11   12</code></pre></div>

<h1 id="factors">Factors</h1>

<p>Factors are used to represent catagorical data. They can be ordered or unordered.</p>

<ul>
  <li>They are like an integer vector where each integer has a label. </li>
  <li>Factors are more descriptive than integers e.g. “Male” and “Female” vs. 1 and 2</li>
  <li>Factors are treated specially by modelling functions like <code>lm()</code> and <code>glm()</code></li>
</ul>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="p">(</span>x <span class="o">&lt;-</span> <span class="kp">factor</span><span class="p">(</span><span class="kt">c</span><span class="p">(</span><span class="s">&quot;yes&quot;</span><span class="p">,</span> <span class="s">&quot;yes&quot;</span><span class="p">,</span> <span class="s">&quot;no&quot;</span><span class="p">,</span> <span class="s">&quot;no&quot;</span><span class="p">,</span> <span class="s">&quot;yes&quot;</span><span class="p">)))</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">## [1] yes yes no  no  yes
## Levels: no yes</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r">table <span class="p">(</span>x<span class="p">)</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">## x
##  no yes 
##   2   3</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="kp">unclass</span><span class="p">(</span>x<span class="p">)</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">## [1] 2 2 1 1 2
## attr(,&quot;levels&quot;)
## [1] &quot;no&quot;  &quot;yes&quot;</code></pre></div>

<h1 id="dataframe">Dataframe</h1>

<p>Dataframes are used in R to store tabular data. They are represented in R as a special type of list where every element in the list has the same length. Each element of the list can be thought of as a <strong>column</strong> and each length of the list can be thought of as a <strong>row</strong>. Because a dataframe is a type of list, dataframes can store different classes of objects in each column (e.g. numeric, character, logical, etc.).</p>

<p>Depending on the source of the data, dataframes can be made using the <code>read.table()</code>, <code>read.csv</code> or <code>data.frame()</code> functions. </p>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="p">(</span>x <span class="o">&lt;-</span> <span class="kt">data.frame</span><span class="p">(</span>foo <span class="o">=</span> <span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="p">,</span> bar <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="bp">T</span><span class="p">,</span><span class="bp">T</span><span class="p">,</span><span class="bp">F</span><span class="p">,</span><span class="bp">F</span><span class="p">)))</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">##   foo   bar
## 1   1  TRUE
## 2   2  TRUE
## 3   3 FALSE
## 4   4 FALSE</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="kp">nrow</span><span class="p">(</span>x<span class="p">)</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">## [1] 4</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="kp">ncol</span><span class="p">(</span>x<span class="p">)</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">## [1] 2</code></pre></div>

<h1 id="attributes">Attributes</h1>

<p>R objects can have attributes, such as:</p>

<ul>
  <li>names</li>
  <li>classes</li>
  <li>lengths</li>
  <li>dimensions (matrices/dataframes)</li>
  <li>user defined attributes, such as metadata</li>
  <li>dataframes have a special attribute called <code>row.names</code></li>
</ul>

<p>Attributes can be modified with the <code>attributes()</code> function, among others.</p>

<p>For example, modifiying the <code>names</code> of a vector can make your code more readable.</p>

<div class="highlight"><pre><code class="language-r" data-lang="r">x <span class="o">&lt;-</span> <span class="m">1</span><span class="o">:</span><span class="m">3</span>
<span class="kp">names</span><span class="p">(</span>x<span class="p">)</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">## NULL</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="kp">names</span><span class="p">(</span>x<span class="p">)</span> <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;alpha&quot;</span><span class="p">,</span> <span class="s">&quot;beta&quot;</span><span class="p">,</span> <span class="s">&quot;gamma&quot;</span><span class="p">)</span>

x</code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">## alpha  beta gamma 
##     1     2     3</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="kp">names</span><span class="p">(</span>x<span class="p">)</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">## [1] &quot;alpha&quot; &quot;beta&quot;  &quot;gamma&quot;</code></pre></div>

<h1 id="looking-for-help-in-r">Looking for help in R</h1>

<ul>
  <li>
    <p>Look up the documentation for a function: <code>help("function")</code> OR</p>
  </li>
  <li>
    <p>?function</p>
  </li>
  <li>
    <p>Look up documentation for a package: <code>help(package="packagename")</code></p>
  </li>
</ul>

<h1 id="packages">Packages</h1>

<p>R comes with a few default packages, however there are thousands of R packages that extend R’s capabilities (such as <code>ggplot2</code>, our next lesson)</p>

<ul>
  <li>
    <p>To see what packages are loaded: <code>search()</code></p>
  </li>
  <li>
    <p>To view available packages: <code>library()</code></p>
  </li>
  <li>
    <p>To load a package: <code>library(packagename)</code></p>
  </li>
  <li>
    <p>Install new package: <code>install.packages("packagename")</code> </p>
  </li>
</ul>

<h1 id="working-directory">Working Directory</h1>

<p>R knows the directory it was started in, and refers to this as the “working directory”. This is where R will search for any files you are imputting, and where it will place any files you output.  </p>

<p>To look at the current working directory: <code>getwd()</code> </p>

<p>To change the working directory: ` setwd(“directory_path”)`</p>

<p>To make a new folder in R: <code>dir.create(path)</code></p>

<h1 id="imputting-tabular-data">Imputting Tabular Data</h1>

<p>Most data you will work with comes in tabular form (such as an Excel spreadsheet). The two most commonly-used functions used to imput tabular data into R are <code>read.table()</code> and <code>read.csv()</code>. </p>

<div class="highlight"><pre><code class="language-r" data-lang="r">data <span class="o">&lt;-</span> read.table<span class="p">(</span><span class="s">&quot;file_name.txt&quot;</span><span class="p">,</span> header<span class="o">=</span><span class="kc">FALSE</span><span class="p">,</span> sep<span class="o">=</span><span class="s">&quot;\t&quot;</span><span class="p">)</span>

<span class="c1"># \t is the regular expression for the tab key. This means our table is tab-delimited (tab-separated)</span>

data2 <span class="o">&lt;-</span> read.csv<span class="p">(</span><span class="s">&quot;file_name.csv&quot;</span><span class="p">,</span> header<span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span>

<span class="c1">#.csv is a comma-separated table</span></code></pre></div>

<h1 id="outputting-tabular-data">Outputting Tabular Data</h1>

<p>Often you’ll want to save R data into a tabular form (e.g. to view in Excel). This is where you use <code>write.table()</code></p>

<div class="highlight"><pre><code class="language-r" data-lang="r">write.table<span class="p">(</span>data<span class="p">,</span> file<span class="o">=</span> <span class="s">&quot;myfile.csv&quot;</span><span class="p">,</span> sep<span class="o">=</span><span class="s">&quot;,&quot;</span><span class="p">,</span> row.names<span class="o">=</span><span class="kc">TRUE</span><span class="p">,</span> col.names<span class="o">=</span><span class="kc">FALSE</span><span class="p">)</span></code></pre></div>

<h1 id="subsetting-data">Subsetting Data</h1>

<p>Using <code>[]</code> in R allows you to subset certain parts of a vector</p>

<div class="highlight"><pre><code class="language-r" data-lang="r">x <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="kc">TRUE</span><span class="p">,</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="s">&quot;alpha&quot;</span><span class="p">,</span> <span class="s">&quot;beta&quot;</span><span class="p">,</span> <span class="s">&quot;gamma&quot;</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">)</span>

x<span class="p">[</span><span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="m">5</span><span class="p">)]</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">## [1] &quot;TRUE&quot;  &quot;beta&quot;  &quot;gamma&quot;</code></pre></div>

<p>This also works for matrices</p>

<div class="highlight"><pre><code class="language-r" data-lang="r">a <span class="o">&lt;-</span> <span class="kt">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">9</span><span class="p">,</span> nrow <span class="o">=</span> <span class="m">3</span><span class="p">)</span>
<span class="kp">colnames</span><span class="p">(</span>a<span class="p">)</span> <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;B&quot;</span><span class="p">,</span> <span class="s">&quot;C&quot;</span><span class="p">)</span>
a<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">2</span><span class="p">,</span> <span class="p">]</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">##      A B C
## [1,] 1 4 7
## [2,] 2 5 8</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r">a<span class="p">[</span><span class="kt">c</span><span class="p">(</span><span class="bp">T</span><span class="p">,</span> <span class="bp">F</span><span class="p">,</span> <span class="bp">T</span><span class="p">),</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;B&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">)]</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">##      B A
## [1,] 4 1
## [2,] 6 3</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r">a<span class="p">[</span><span class="m">0</span><span class="p">,</span> <span class="m">-2</span><span class="p">]</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">##      A C</code></pre></div>

<p>and dataframes</p>

<div class="highlight"><pre><code class="language-r" data-lang="r">df <span class="o">&lt;-</span> <span class="kt">data.frame</span><span class="p">(</span>x <span class="o">=</span> <span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">,</span> y <span class="o">=</span> <span class="m">3</span><span class="o">:</span><span class="m">1</span><span class="p">,</span> z <span class="o">=</span> <span class="kc">letters</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">])</span>

df<span class="p">[</span> <span class="p">,</span><span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">3</span><span class="p">)]</span>    <span class="c1">#gives the columns that are in position 1 and 3</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">##   x z
## 1 1 a
## 2 2 b
## 3 3 c</code></pre></div>

<p>You can also easily subset a column in a dataframe using a $</p>

<div class="highlight"><pre><code class="language-r" data-lang="r">df <span class="o">&lt;-</span> <span class="kt">data.frame</span><span class="p">(</span>x <span class="o">=</span> <span class="m">1</span><span class="o">:</span><span class="m">10</span><span class="p">,</span> y <span class="o">=</span> <span class="m">11</span><span class="o">:</span><span class="m">20</span><span class="p">,</span> z <span class="o">=</span> <span class="kc">letters</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">10</span><span class="p">])</span>

df<span class="o">$</span>z</code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">##  [1] a b c d e f g h i j
## Levels: a b c d e f g h i j</code></pre></div>

<h1 id="r-operators">R Operators</h1>

<p>Assignment operators</p>

<table>
  <thead>
    <tr>
      <th>Operator</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>&lt;-</td>
      <td>local environment assignment</td>
    </tr>
    <tr>
      <td>«-</td>
      <td>global environment assignment</td>
    </tr>
  </tbody>
</table>

<p>Arthmetic Operators</p>

<table>
  <thead>
    <tr>
      <th>Operator</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>+</td>
      <td>addition</td>
    </tr>
    <tr>
      <td>-</td>
      <td>subtraction</td>
    </tr>
    <tr>
      <td>*</td>
      <td>multiplication</td>
    </tr>
    <tr>
      <td>/</td>
      <td>division</td>
    </tr>
    <tr>
      <td>^ or **</td>
      <td>exponentiation</td>
    </tr>
    <tr>
      <td>x %% y</td>
      <td>modulus (5 %% 2 is 1)</td>
    </tr>
    <tr>
      <td>x %/% y</td>
      <td>integer division (5%/% is 2)</td>
    </tr>
    <tr>
      <td>x %*% y</td>
      <td>matrix multiplication</td>
    </tr>
  </tbody>
</table>

<p>Logical Operators</p>

<table>
  <thead>
    <tr>
      <th>Operator</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>&lt;</td>
      <td>less than</td>
    </tr>
    <tr>
      <td>&lt;=</td>
      <td>less than or equal to</td>
    </tr>
    <tr>
      <td>&gt;</td>
      <td>greater than</td>
    </tr>
    <tr>
      <td>&gt;=</td>
      <td>greater than or equal to</td>
    </tr>
    <tr>
      <td>==</td>
      <td>exactly equal to</td>
    </tr>
    <tr>
      <td>!=</td>
      <td>not equal to</td>
    </tr>
    <tr>
      <td>!x</td>
      <td>not x</td>
    </tr>
    <tr>
      <td>x | y</td>
      <td>x OR y (returns a vector)</td>
    </tr>
    <tr>
      <td>x || y</td>
      <td>x OR y (examines only 1st element of vector)</td>
    </tr>
    <tr>
      <td>x &amp; y</td>
      <td>x AND y (returns a vector)</td>
    </tr>
    <tr>
      <td>x &amp;&amp; y</td>
      <td>x AND y (examines only 1st element of vector)</td>
    </tr>
    <tr>
      <td>isTRUE(x)</td>
      <td>test if X is TRUE</td>
    </tr>
  </tbody>
</table>

<h2 id="commenting-in-r">Commenting in R</h2>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1"># commenting in R is easy! Everything past a # means that R will ignore whatever is written there.</span></code></pre></div>

<h1 id="subset-function">subset function</h1>

<p>The <code>subset()</code> function in R will return a subset of an argument that meet a particular condition. </p>

<div class="highlight"><pre><code class="language-r" data-lang="r">numvec <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">5</span><span class="p">,</span><span class="m">8</span><span class="p">,</span><span class="m">9</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">6</span><span class="p">,</span><span class="m">7</span><span class="p">,</span><span class="m">8</span><span class="p">,</span><span class="m">4</span><span class="p">,</span><span class="m">5</span><span class="p">,</span><span class="m">7</span><span class="p">,</span><span class="m">11</span><span class="p">)</span>

<span class="kp">subset</span><span class="p">(</span>numvec<span class="p">,</span> numvec <span class="o">&lt;</span> <span class="m">9</span> <span class="o">&amp;</span> numvec <span class="o">&gt;</span> <span class="m">4</span><span class="p">)</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">## [1] 5 8 6 7 8 5 7</code></pre></div>

<h1 id="if-else-expressions">if-else expressions</h1>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="kr">if</span> <span class="p">(</span>condition<span class="p">)</span> <span class="p">{</span>
  <span class="c1">##do this</span>
<span class="p">}</span> <span class="kr">else</span> <span class="p">{</span>
  <span class="c1">##do that</span>
<span class="p">}</span>

<span class="c1">## to add more conditions</span>

<span class="kr">if</span> <span class="p">(</span>condition1<span class="p">)</span> <span class="p">{</span>
  <span class="c1">## do this</span>
<span class="p">}</span> <span class="kr">else</span> <span class="kr">if</span> <span class="p">(</span>condition2<span class="p">)</span> <span class="p">{</span>
  <span class="c1">## do something different</span>
<span class="p">}</span> <span class="kr">else</span> <span class="p">{</span>
  <span class="c1">## do something else</span>
<span class="p">}</span></code></pre></div>

<h1 id="if-else-expressions-1">if-else expressions</h1>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="kr">if</span> <span class="p">(</span>x <span class="o">&gt;</span> <span class="m">3</span><span class="p">)</span> <span class="p">{</span>
  y <span class="o">&lt;-</span> <span class="m">10</span>
<span class="p">}</span> <span class="kr">else</span> <span class="p">{</span>
  y <span class="o">&lt;-</span> <span class="m">0</span>
<span class="p">}</span>


<span class="c1">### OR</span>


y <span class="o">&lt;-</span> <span class="kr">if</span><span class="p">(</span>x <span class="o">&gt;</span> <span class="m">3</span><span class="p">)</span> <span class="p">{</span>
  <span class="m">10</span>
<span class="p">}</span> <span class="kr">else</span> <span class="p">{</span>
  <span class="m">0</span>
<span class="p">}</span></code></pre></div>

<h1 id="for-loop">for loop</h1>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="kr">for</span> <span class="p">(</span>i <span class="kr">in</span> <span class="m">1</span><span class="o">:</span><span class="m">10</span><span class="p">)</span> <span class="p">{</span>
  print <span class="p">(</span>i<span class="p">)</span>
<span class="p">}</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">## [1] 1
## [1] 2
## [1] 3
## [1] 4
## [1] 5
## [1] 6
## [1] 7
## [1] 8
## [1] 9
## [1] 10</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1">### nested for loops</span>

x <span class="o">&lt;-</span> <span class="kt">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">6</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">)</span>

<span class="kr">for</span> <span class="p">(</span>i <span class="kr">in</span> <span class="kp">seq_len</span><span class="p">(</span><span class="kp">nrow</span><span class="p">(</span>x<span class="p">)))</span> <span class="p">{</span>
  <span class="kr">for</span> <span class="p">(</span>j <span class="kr">in</span> <span class="kp">seq_len</span><span class="p">(</span><span class="kp">ncol</span><span class="p">(</span>x<span class="p">)))</span> <span class="p">{</span>
    print <span class="p">(</span>x<span class="p">[</span>i<span class="p">,</span> j<span class="p">])</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">## [1] 1
## [1] 3
## [1] 5
## [1] 2
## [1] 4
## [1] 6</code></pre></div>

<h1 id="writing-functions">Writing functions</h1>

<p>functions are created using the <code>function()</code> directive and are stored as R objects of the class “function”. Functions can be passed as arguments to other functions and they can be nested (functions inside functions)</p>

<div class="highlight"><pre><code class="language-r" data-lang="r">f <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>argument<span class="p">)</span> <span class="p">{</span>
  <span class="c1">## do something here </span>
<span class="p">}</span></code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1">## make a function called above10 with the argument x that subsets all variables of x that are greater than 10</span>
above10 <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>x<span class="p">)</span> <span class="p">{</span>
  use <span class="o">&lt;-</span> x <span class="o">&gt;</span> <span class="m">10</span>
  x<span class="p">[</span>use<span class="p">]</span>
<span class="p">}</span>

<span class="c1">## make a function called above with the arguments x &amp; n that subsets all variables of x that are greater than n</span>
above <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>x<span class="p">,</span> n<span class="p">)</span> <span class="p">{</span>
  use <span class="o">&lt;-</span> x <span class="o">&gt;</span> n
  x<span class="p">[</span>use<span class="p">]</span>
<span class="p">}</span>

<span class="c1">## create a function called columnmean that takes the arguments y and the argument remove.NA with a default value of TRUE. This function takes the number of columns of y, turns it into a numeric object, and calculates the mean of each column of y while removing NA values</span>
columnmean <span class="o">&lt;-</span> <span class="kr">function</span> <span class="p">(</span>y<span class="p">,</span> remove.NA <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span> <span class="p">{</span>
  nc <span class="o">&lt;-</span> <span class="kp">ncol</span><span class="p">(</span>y<span class="p">)</span>
  means <span class="o">&lt;-</span> <span class="kt">numeric</span><span class="p">(</span>nc<span class="p">)</span>
  <span class="kr">for</span> <span class="p">(</span>i <span class="kr">in</span> <span class="m">1</span><span class="o">:</span>nc<span class="p">)</span> <span class="p">{</span>
    means<span class="p">[</span>i<span class="p">]</span> <span class="o">&lt;-</span> <span class="kp">mean</span><span class="p">(</span>y<span class="p">[,</span>i<span class="p">],</span> na.rm <span class="o">=</span> remove.NA<span class="p">)</span>
  <span class="p">}</span>
  means
<span class="p">}</span></code></pre></div>

<h1 id="loop-functions">Loop Functions</h1>

<p>R has built loop functions, which often have the word “apply” in them.</p>

<ul>
  <li><code>lapply</code>: loop over a list and evaluate a function on each element </li>
  <li><code>sapply</code>: same as <code>lapply</code> but it tries to simplify the result</li>
  <li><code>apply</code>: apply a function over the margins of an array </li>
  <li><code>tapply</code>: apply a function over subsets of a vector (<code>lapply()</code> used with <code>split()</code> does the same thing)</li>
  <li><code>mapply</code>: a multivariate version of <code>lapply</code> </li>
</ul>

<h1 id="lapply">lapply</h1>

<p><code>lapply</code> loops internally with C code, making the looping faster</p>

<p><code>lapply</code> takes two to three arguments:</p>

<ol>
  <li>a list <code>x</code> (or another object that is coerced to a list)</li>
  <li>a function</li>
  <li>other arguments as necessary</li>
</ol>

<div class="highlight"><pre><code class="language-r" data-lang="r">x <span class="o">&lt;-</span> <span class="kt">list</span><span class="p">(</span>a<span class="o">=</span><span class="m">1</span><span class="o">:</span><span class="m">5</span><span class="p">,</span> b<span class="o">=</span>rnorm<span class="p">(</span><span class="m">10</span><span class="p">),</span> <span class="kt">c</span><span class="o">=</span>rnorm<span class="p">(</span><span class="m">20</span><span class="p">,</span><span class="m">1</span><span class="p">),</span> d<span class="o">=</span>rnorm<span class="p">(</span><span class="m">100</span><span class="p">,</span><span class="m">5</span><span class="p">))</span>
<span class="kp">lapply</span><span class="p">(</span>x<span class="p">,</span> <span class="kp">mean</span><span class="p">)</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">## $a
## [1] 3
## 
## $b
## [1] 0.4144133
## 
## $c
## [1] 1.242476
## 
## $d
## [1] 4.864317</code></pre></div>

<p><code>lapply</code> will always return a list</p>

<p><code>lapply</code> and others make heavy use of anonymous functions, which are functions without names.</p>

<div class="highlight"><pre><code class="language-r" data-lang="r">x <span class="o">&lt;-</span> <span class="kt">list</span><span class="p">(</span>a<span class="o">=</span><span class="kt">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">2</span><span class="p">),</span> b<span class="o">=</span><span class="kt">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">6</span><span class="p">,</span><span class="m">3</span><span class="p">,</span><span class="m">2</span><span class="p">))</span>
x</code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">## $a
##      [,1] [,2]
## [1,]    1    3
## [2,]    2    4
## 
## $b
##      [,1] [,2]
## [1,]    1    4
## [2,]    2    5
## [3,]    3    6</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="kp">lapply</span><span class="p">(</span>x<span class="p">,</span> <span class="kr">function</span><span class="p">(</span>ele<span class="p">)</span> ele<span class="p">[</span> <span class="p">,</span><span class="m">1</span><span class="p">])</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">## $a
## [1] 1 2
## 
## $b
## [1] 1 2 3</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1">## create an anonymous function with the argument ele and then define that argument.</span></code></pre></div>

<h1 id="sapply">sapply</h1>

<p><code>sapply</code> will try to simplify the result of lapply if possible</p>

<ul>
  <li>if the result is a list where every element is length 1, than a vector is returned </li>
  <li>if the result is a list where every element is a vector of the same length, a matrix is returned</li>
  <li>otherwise a list is returned</li>
</ul>

<div class="highlight"><pre><code class="language-r" data-lang="r">x <span class="o">&lt;-</span> <span class="kt">list</span><span class="p">(</span>a<span class="o">=</span><span class="m">1</span><span class="o">:</span><span class="m">5</span><span class="p">,</span> b<span class="o">=</span>rnorm<span class="p">(</span><span class="m">10</span><span class="p">),</span> <span class="kt">c</span><span class="o">=</span>rnorm<span class="p">(</span><span class="m">20</span><span class="p">,</span><span class="m">1</span><span class="p">),</span> d<span class="o">=</span>rnorm<span class="p">(</span><span class="m">100</span><span class="p">,</span><span class="m">5</span><span class="p">))</span>
<span class="kp">sapply</span><span class="p">(</span>x<span class="p">,</span> <span class="kp">mean</span><span class="p">)</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">##          a          b          c          d 
##  3.0000000 -0.6212431  0.8485999  4.8787478</code></pre></div>

<h1 id="apply">apply</h1>

<p><code>apply</code> is used to evalute a function over the margins of an array. It is not faster than a loop, but it works in one line. <code>1</code> means do the function to the rows. <code>2</code> means do the function to the columns</p>

<div class="highlight"><pre><code class="language-r" data-lang="r">x <span class="o">&lt;-</span> <span class="kt">matrix</span> <span class="p">(</span>rnorm<span class="p">(</span><span class="m">200</span><span class="p">),</span> <span class="m">20</span><span class="p">,</span> <span class="m">10</span><span class="p">)</span>
<span class="kp">apply</span><span class="p">(</span>x<span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="kp">mean</span><span class="p">)</span> <span class="c1"># keeping number of columns and collapsing rows. This gives a vector of the means of columns.</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">##  [1]  0.080016533 -0.053744974  0.003057466  0.119052575 -0.235133970
##  [6]  0.064078201  0.438375166  0.222169001 -0.239186007  0.287531964</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="kp">apply</span><span class="p">(</span>x<span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="kp">sum</span><span class="p">)</span> <span class="c1"># this calculates the sum of all rows</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">##  [1] -3.8788381  2.9531110 -1.9650864 -1.0265138  4.7829788  0.3006392
##  [7]  1.0358866  2.6878198 -0.9470669  1.0596887 -1.0193526  3.1324364
## [13] -1.0965802  0.7059315 -0.2513944  2.1137886 -2.7307812  6.1002416
## [19]  4.7351710 -2.9677605</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r">y <span class="o">&lt;-</span> <span class="kt">matrix</span><span class="p">(</span>rnorm<span class="p">(</span><span class="m">200</span><span class="p">),</span> <span class="m">20</span><span class="p">,</span> <span class="m">10</span><span class="p">)</span>

<span class="kp">apply</span><span class="p">(</span>y<span class="p">,</span> <span class="m">1</span><span class="p">,</span> quantile<span class="p">,</span> probs <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="m">0.25</span><span class="p">,</span> <span class="m">0.75</span><span class="p">))</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">##           [,1]       [,2]      [,3]       [,4]       [,5]      [,6]
## 25% -0.3877674 -0.3232218 -1.198481 -0.1526039 -0.5491547 0.2452056
## 75%  0.2246583  0.1996432  0.322519  0.3450831  0.2478248 0.7316476
##           [,7]       [,8]       [,9]      [,10]      [,11]     [,12]
## 25% -0.5503696 0.06816601 0.07783423 -0.1892636 -0.8528208 -0.718145
## 75%  0.7674931 0.89966976 0.89050484  1.7691137  0.3055835  0.862728
##         [,13]      [,14]      [,15]      [,16]      [,17]      [,18]
## 25% 0.5761677 -0.7572108 -0.5829562 -0.8852050 -0.5100067 -0.6692109
## 75% 1.2906455  0.2577374  0.9004613  0.7908264  0.9273377  0.5235281
##         [,19]      [,20]
## 25% -1.070747 -1.2092185
## 75% -0.160554  0.1273884</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1"># with an array (stacks of matrices: multidimensional)</span>

a <span class="o">&lt;-</span> <span class="kt">array</span><span class="p">(</span>rnorm<span class="p">(</span><span class="m">2</span><span class="o">*</span><span class="m">2</span><span class="o">*</span><span class="m">10</span><span class="p">),</span> <span class="kt">c</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">10</span><span class="p">))</span> <span class="c1">#create an array that looks like a bunch of 2 by 2 matrices and take the mean of those</span>

<span class="kp">apply</span><span class="p">(</span>a<span class="p">,</span> <span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">),</span> <span class="kp">mean</span><span class="p">)</span> <span class="c1">#this keeps the 1st and 2nd dimension</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">##            [,1]       [,2]
## [1,] -0.6764354 -0.3878970
## [2,] -0.2747521  0.7644376</code></pre></div>

<h1 id="mapply">mapply</h1>

<p><code>mapply</code> is a multivariate apply (like <code>lapply</code>) that applies a function over a set of arguments. </p>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="kp">mapply</span><span class="p">(</span><span class="kp">rep</span><span class="p">,</span> <span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="p">,</span> <span class="m">4</span><span class="o">:</span><span class="m">1</span><span class="p">)</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">## [[1]]
## [1] 1 1 1 1
## 
## [[2]]
## [1] 2 2 2
## 
## [[3]]
## [1] 3 3
## 
## [[4]]
## [1] 4</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1"># is the same as</span>

<span class="kt">list</span><span class="p">(</span><span class="kp">rep</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">4</span><span class="p">),</span> <span class="kp">rep</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">),</span> <span class="kp">rep</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="m">2</span><span class="p">),</span> <span class="kp">rep</span><span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="m">1</span><span class="p">))</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">## [[1]]
## [1] 1 1 1 1
## 
## [[2]]
## [1] 2 2 2
## 
## [[3]]
## [1] 3 3
## 
## [[4]]
## [1] 4</code></pre></div>

<h1 id="instant-vectorization-to-make-your-code-faster">Instant Vectorization to make your code faster</h1>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1">## create a function called noise that takes the arguments n, mean and sd and produces random varibles with those specifications. </span>

noise<span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>n<span class="p">,</span><span class="kp">mean</span><span class="p">,</span> sd<span class="p">)</span> <span class="p">{</span>
  rnorm<span class="p">(</span>n<span class="p">,</span> <span class="kp">mean</span><span class="p">,</span> sd<span class="p">)</span>
<span class="p">}</span>

<span class="c1">## apply the noise function with n=5, mean=1 and sd=2</span>

noise<span class="p">(</span><span class="m">5</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">)</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">## [1] 0.8827365 3.7222438 2.4587066 0.2683981 4.1029523</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1">## apply the noise function for n= 1 to 5, mean = 1 to 5, and sd = 2</span>

<span class="kp">mapply</span><span class="p">(</span>noise<span class="p">,</span> <span class="m">1</span><span class="o">:</span><span class="m">5</span><span class="p">,</span> <span class="m">1</span><span class="o">:</span><span class="m">5</span><span class="p">,</span> <span class="m">2</span><span class="p">)</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">## [[1]]
## [1] 3.639538
## 
## [[2]]
## [1] 3.4656653 0.9582382
## 
## [[3]]
## [1] 2.879894 3.580279 3.087797
## 
## [[4]]
## [1] 2.093053 3.036092 1.979270 6.373132
## 
## [[5]]
## [1] 3.025184 6.409395 6.288802 3.699830 6.409703</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1">## which is the same as writing</span>

<span class="kt">list</span><span class="p">(</span>noise<span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">),</span> noise<span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">2</span><span class="p">),</span> noise<span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="m">3</span><span class="p">,</span><span class="m">2</span><span class="p">),</span> noise<span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="m">4</span><span class="p">,</span><span class="m">2</span><span class="p">),</span> noise<span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="m">5</span><span class="p">,</span><span class="m">2</span><span class="p">))</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">## [[1]]
## [1] 1.172156
## 
## [[2]]
## [1]  2.471748 -1.783778
## 
## [[3]]
## [1] 5.472987 2.164165 2.340033
## 
## [[4]]
## [1] 5.462635 1.487566 5.491678 1.208370
## 
## [[5]]
## [1] 7.340117 5.809471 5.594563 4.575051 5.401627</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1"># (the outputs are different because our function makes new random varibles each time)</span></code></pre></div>

<h1 id="tapply">tapply</h1>

<p><code>tapply</code> is used to apply a function over subsets of a vector. It will simplify the result, like sapply. </p>

<div class="highlight"><pre><code class="language-r" data-lang="r">x <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">30</span><span class="p">)</span> <span class="c1"># make a vector with 30 variables</span>
f<span class="o">&lt;-</span> <span class="kp">gl</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="m">10</span><span class="p">)</span> <span class="c1"># make a factor variable with 3 levels and 10 reps of each level</span>
f</code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">##  [1] 1 1 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 3 3 3 3 3 3 3 3 3 3
## Levels: 1 2 3</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="kp">tapply</span><span class="p">(</span>x<span class="p">,</span> f<span class="p">,</span> <span class="kp">mean</span><span class="p">)</span> <span class="c1"># apply the mean function to x, subsetting by f</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">##    1    2    3 
##  5.5 15.5 25.5</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="kp">tapply</span><span class="p">(</span>x<span class="p">,</span> f<span class="p">,</span> <span class="kp">range</span><span class="p">)</span> <span class="c1"># apply the range function to x, subsetting by f</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">## $`1`
## [1]  1 10
## 
## $`2`
## [1] 11 20
## 
## $`3`
## [1] 21 30</code></pre></div>


</div>

    </div>

  </body>
</html>
