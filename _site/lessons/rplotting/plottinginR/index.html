<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Plotting in R &middot; Code As Manuscript
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-0d">

    <div class="sidebar">
  <div class="container"> <!--sidebar-sticky? I deleted it from here-->
    <div class="sidebar-about">
      <h2>
        <a href="">
          Code As Manuscript
        </a>
      </h2>
      <p class="lead">Writing your code and analyses as if <i>it</i> was the manuscript.</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Home</a>

      

      
      
        
          
        
      
        
          
        
      
        
          
            
              <a class="sidebar-nav-item" href="/">About</a>
            
          
        
      
        
          
            
              <a class="sidebar-nav-item" href="/gps/">GPS</a>
            
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
            
              <a class="sidebar-nav-item" href="/lessons/">Lessons</a>
            
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      

      <a class="sidebar-nav-item" href="https://github.com/codeasmanuscript">GitHub</a>
    </nav>

    <p>&copy; 2015. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="page">
  <h1 class="page-title">Plotting in R</h1>
  <h1 id="base-plotting-systems">Base plotting systems</h1>

<p>The base plotting system in R is the <code>plot()</code> function. </p>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="kn">library</span><span class="p">(</span>datasets<span class="p">)</span>
data<span class="p">(</span>cars<span class="p">)</span>
<span class="kp">with</span><span class="p">(</span>cars<span class="p">,</span> plot<span class="p">(</span>speed<span class="p">,</span> dist<span class="p">))</span></code></pre></div>

<p><img src="/images/unnamed-chunk-1-1.png" alt="plot of chunk unnamed-chunk-1" /> </p>

<h1 id="the-lattice-system">the Lattice system</h1>

<p>This is the second base plotting system in R. Plots are created with a single call function. Margins and spacing are set automatically because the entire plot is specified at once. It is good at putting many plots on a screen and thus you can see things like how y changes with x over z. </p>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="kn">library</span> <span class="p">(</span>lattice<span class="p">)</span>
state <span class="o">&lt;-</span> <span class="kt">data.frame</span><span class="p">(</span>state.x77<span class="p">,</span> region <span class="o">=</span> state.region<span class="p">)</span>
xyplot<span class="p">(</span>Life.Exp <span class="o">~</span> Income <span class="o">|</span> region<span class="p">,</span> data<span class="o">=</span>state<span class="p">,</span> layout <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="m">1</span><span class="p">))</span></code></pre></div>

<p><img src="/images/unnamed-chunk-2-1.png" alt="plot of chunk unnamed-chunk-2" /> </p>

<h1 id="ggplot2">ggplot2</h1>

<p>The ggplot2 package is an R package that uses the “Grammar of Graphics” to put together different aspects of data visualization to build quality graphics. It is a very popular package. </p>

<div class="highlight"><pre><code class="language-r" data-lang="r">install.packages<span class="p">(</span><span class="s">&quot;ggplot2&quot;</span><span class="p">)</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">## Installing package into &#39;/home/luke/R/x86_64-pc-linux-gnu-library/3.2&#39;
 ## (as &#39;lib&#39; is unspecified)</code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">## Error in contrib.url(repos, type): trying to use CRAN without setting a mirror</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="kn">library</span><span class="p">(</span>ggplot2<span class="p">)</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">## Loading required package: methods</code></pre></div>

<p># the Basics #</p>

<p><code>qplot()</code> is the basic plotting function in <code>ggplot2</code> and plots are made up of aesthetics (size, shape, color, etc.) and geoms (points, lines, etc.). </p>

<p><code>ggplot()</code> is the core function and can do things that <code>qplot</code> cannot. </p>

<div class="highlight"><pre><code class="language-r" data-lang="r">str<span class="p">(</span>mpg<span class="p">)</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">## &#39;data.frame&#39;:	234 obs. of  11 variables:
##  $ manufacturer: Factor w/ 15 levels &quot;audi&quot;,&quot;chevrolet&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##  $ model       : Factor w/ 38 levels &quot;4runner 4wd&quot;,..: 2 2 2 2 2 2 2 3 3 3 ...
##  $ displ       : num  1.8 1.8 2 2 2.8 2.8 3.1 1.8 1.8 2 ...
##  $ year        : int  1999 1999 2008 2008 1999 1999 2008 1999 1999 2008 ...
##  $ cyl         : int  4 4 4 4 6 6 6 4 4 4 ...
##  $ trans       : Factor w/ 10 levels &quot;auto(av)&quot;,&quot;auto(l3)&quot;,..: 4 9 10 1 4 9 1 9 4 10 ...
##  $ drv         : Factor w/ 3 levels &quot;4&quot;,&quot;f&quot;,&quot;r&quot;: 2 2 2 2 2 2 2 1 1 1 ...
##  $ cty         : int  18 21 20 21 16 18 18 18 16 20 ...
##  $ hwy         : int  29 29 31 30 26 26 27 26 25 28 ...
##  $ fl          : Factor w/ 5 levels &quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;p&quot;,..: 4 4 4 4 4 4 4 4 4 4 ...
##  $ class       : Factor w/ 7 levels &quot;2seater&quot;,&quot;compact&quot;,..: 2 2 2 2 2 2 2 2 2 2 ...</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r">qplot<span class="p">(</span>displ<span class="p">,</span> hwy<span class="p">,</span> data <span class="o">=</span> mpg<span class="p">)</span></code></pre></div>

<p><img src="/images/unnamed-chunk-4-1.png" alt="plot of chunk unnamed-chunk-4" /> </p>

<div class="highlight"><pre><code class="language-r" data-lang="r">qplot<span class="p">(</span>displ<span class="p">,</span> hwy<span class="p">,</span> data <span class="o">=</span> mpg<span class="p">,</span> color<span class="o">=</span>drv<span class="p">)</span></code></pre></div>

<p><img src="/images/unnamed-chunk-4-2.png" alt="plot of chunk unnamed-chunk-4" /> </p>

<div class="highlight"><pre><code class="language-r" data-lang="r">qplot<span class="p">(</span>displ<span class="p">,</span> hwy<span class="p">,</span> data <span class="o">=</span> mpg<span class="p">,</span> geom<span class="o">=</span><span class="kt">c</span><span class="p">(</span><span class="s">&quot;point&quot;</span><span class="p">,</span> <span class="s">&quot;smooth&quot;</span><span class="p">))</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">## geom_smooth: method=&quot;auto&quot; and size of largest group is &lt;1000, so using loess. Use &#39;method = x&#39; to change the smoothing method.</code></pre></div>

<p><img src="/images/unnamed-chunk-4-3.png" alt="plot of chunk unnamed-chunk-4" /> </p>

<div class="highlight"><pre><code class="language-r" data-lang="r">qplot<span class="p">(</span>hwy<span class="p">,</span> data<span class="o">=</span>mpg<span class="p">,</span> fill<span class="o">=</span>drv<span class="p">)</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">## stat_bin: binwidth defaulted to range/30. Use &#39;binwidth = x&#39; to adjust this.</code></pre></div>

<p><img src="/images/unnamed-chunk-4-4.png" alt="plot of chunk unnamed-chunk-4" /> </p>

<div class="highlight"><pre><code class="language-r" data-lang="r">qplot<span class="p">(</span>displ<span class="p">,</span> hwy<span class="p">,</span> data<span class="o">=</span>mpg<span class="p">,</span> facets <span class="o">=</span><span class="m">.</span><span class="o">~</span>drv<span class="p">)</span></code></pre></div>

<p><img src="/images/unnamed-chunk-4-5.png" alt="plot of chunk unnamed-chunk-4" /> </p>

<div class="highlight"><pre><code class="language-r" data-lang="r">qplot<span class="p">(</span>hwy<span class="p">,</span> data<span class="o">=</span>mpg<span class="p">,</span> facet<span class="o">=</span>drv<span class="o">~</span><span class="m">.</span><span class="p">,</span> binwidth<span class="o">=</span><span class="m">2</span><span class="p">)</span></code></pre></div>

<p><img src="/images/unnamed-chunk-4-6.png" alt="plot of chunk unnamed-chunk-4" /> </p>

</div>

    </div>

  </body>
</html>
